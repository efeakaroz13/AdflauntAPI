<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation and details of Private API</title>
</head>
<body>
    <h1>Tech Stack</h1>
    <p>We use mongo DB and python flask combined together on this API. You can find every detail about using this API on this page.</p>
    <br>
    <h1> Uploading to this server</h1>
    <p>So in every endpoint with a file input statement, you need to upload the file to the /api/upload and put the given filename to the parameter.</p>
    <br>
    <code>
        /api/upload - POST<br>
        'file' - send file to this endpoint, no more documentation here. 
    </code>
    <br>
    <br>
    <h1>Authentication</h1>
    <p>We don't have crazy shit here</p>
    <code>
        /api/register - POST <br>
        "email" - E-Mail of the user<br>
        "password" - Password of the user<br>
        "dateOfBirth" -  Date of birth of the user In DD/MM/YYYY format<br>
        "IPDATA" - Data returned from <a href="http://ip-api.com/json"> http://ip-api.com/json</a><br>
        "fullName"- You know what a name is<br>
        "profileImage" - As I mentioned before. Don't mention any folders but you can access it trough Static route.<br>
        "phoneNumber" - Phone number, simple.<br>
    </code>
    <br>
    <code>
        /api/login - POST <br>
        "email" - E-Mail of the user<br>
        "password" - Password of the user<br>
        "phoneNumber" - Phone number, simple.<br>
        one of email and phone number should be mentioned while using the API, it can work with both.<br>
    </code>
    <h1>Profile and Credential Updating</h1>
    <h2>Profile update(you can't update phonenumber email or password)</h2>
    <p>In this section '/api/updateprofile' you will send POST requests to this endpoint. You are able to use the same things in register, it will automatically understand the data you sent. IPDATA is not required but you are still able to send.</p>
    <h2>Credential Updating</h2>
    <code>
        ENDPOINT: /api/update_login_credentials METHOD: POST <br>
        # You are able to authenticate with just email or just phoneNumber or by using both <br>
        # Required: email or phoneNumber,password <br>
        # optional: <br>
        #new_password, new_phoneNumber, new_email
        # I'm not explain what they mean, they are very self explanatory.
    </code>
    <h2>Profile View</h2>
    <code>
        /api/getprofile/userID GET <br>
        this endpoint will give the user data from the database <br>
    </code>
    <h1>User report system</h1>
    <code>
        /api/report/-userID of the suspect- POST <br>
        required form parameters: <br>
        email,password,phoneNumber(of current user) <br>
        title,description(of report) <br>
        

    </code>
    <h1>Bug reporting system</h1>
    <p>This endpoint is for the shake function on mobile and with this endpoint user will be able to trace bugs and reports with screenshot attachment.</p>
    <code>
        /api/report/bugs - POST - GET[not finished yet, it will be a admin panel url] <br>
        "email" - for verification <br>
        "password" - for verification <br>
        "title" <br>
        "description" <br>
        "bugImage":as a static image url <br>
        "phoneNumber" - for verification <br>

    </code>
    <h1>Id verification</h1>
    <p>So this is a long topic, I didn't do anything on serverside. You need to handle all data from app-side. From this endpoint you will be able to add ID verified state to the database and add the static image name.
        Let me start by united states state identity cards: every state has their own card with different kind of layout and information. It is a little hard to get all the information turned into text. If you can crop the image of the person just directly from the ID card, it would be so cool.
    </p>
    <code>
        <br>
        /api/verify/ID - POST  <br>
        email,password,phoneNumber(if you didn't pass email) <br>
        photoOfId - You will need to just upload the photo to the upload url and give the returned name.
    </code> <br>
    <br>
    <h1>Listings</h1>
    <p><code>|-|</code> is the splitter text for images and tags. NOTE: EVERY TAG IS REGISTERED TO DATABASE AS TABLES, DON'T TYPE ANYTHING OTHER THAN LETTERS AND NUMBERS, FILTER.</p>
    <code>
        email,password and phoneNumber is the same as authentication
        ("lat")#number, float <br>
        ("long")#number, float <br>
        ("images") <br>
        ("title") <br>
        ("price")#number integer <br>
        ("location") <br>
        ("revision_limit")#number integer <br>
        ("digital") #Boolean - 1 for true, 0 for false <br>
        ("sqfeet") #number integer <br>
        ("square_footage")#number,int <br>
        ("type") # number - between 1-6 <br>
        ("check_in")#Date <br>
        ("check_out") #Date <br>
        ("population") #number <br>
        ("discountAvailable")# Number between 1-4 <br>
        """  <br>
        Discount available: <br>
        yes <br>
        no <br>
        long-term <br>
        partial <br>
        """ <br>
        ("tags") <br>
        ("extras")#fully custom JSON array IF EMPTY, JUST SEND A EMPTY ARRAY <br>
        ("requirements")#fully custom JSON array IF EMPTY, JUST SEND A EMPTY ARRAY <br>
        ("description")#STR <br>
        ("bookingNote")#STR OPT <br>
        ("bookingOffset") #INT OPT <br>
        "Set how many days are required prior to the booking date" <br>
        ("bookingWindow") #INT OPT <br>
        "Set how many days in advance a booking can be made." <br>
        ("minimumBookingDuration") <br>
        ("BookingImportURL") <br>

    </code>
</body>
</html>